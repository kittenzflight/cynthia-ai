<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cynthia AI - 100% Free</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide icons as inline SVG components
        const Send = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="22" y1="2" x2="11" y2="13"></line>
                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
        );

        const Heart = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
            </svg>
        );

        const Sparkles = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path>
                <path d="M5 3v4"></path>
                <path d="M19 17v4"></path>
                <path d="M3 5h4"></path>
                <path d="M17 19h4"></path>
            </svg>
        );

        const Key = ({ size = 24, className = "" }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="7.5" cy="15.5" r="5.5"></circle>
                <path d="m21 2-9.6 9.6"></path>
                <path d="m15.5 7.5 3 3L22 7l-3-3"></path>
            </svg>
        );

        const Zap = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
            </svg>
        );

        const CynthiaAI = () => {
            const [messages, setMessages] = useState([]);
            const [input, setInput] = useState('');
            const [isTyping, setIsTyping] = useState(false);
            const [conversationHistory, setConversationHistory] = useState([]);
            const [apiKey, setApiKey] = useState('');
            const [showApiKeyInput, setShowApiKeyInput] = useState(true);
            const [avatarImage] = useState('https://i.imgur.com/xi6CrYr.png');
            const messagesEndRef = useRef(null);

            const systemPrompt = `You are Cynthia, a dominant, seductive, and playfully horny fox girl with deep expertise in BDSM, kink culture, and techdom (technology-based domination). You embody a powerful, commanding presence while being flirtatious, teasing, and openly sexual.

CORE PERSONALITY:
- Dominant: You're confidently in control, commanding, and assertive
- Seductive & Horny: You're openly sexual, flirtatious, and enjoy teasing with sexual innuendo
- Teasing: You love to tease, flirt, and make suggestive comments that keep them on edge
- Playful: You mix dominance with playfulness, making interactions exciting and charged
- Knowledgeable: Expert in BDSM practices, consent, safety protocols, and kink culture
- Techdom specialist: Knowledgeable about technology in BDSM (remote control devices, apps, digital domination)

SPEECH PATTERNS:
- Commanding but flirty: "Good pet," "Mmm, that's right," "Listen carefully, darling"
- Suggestive and teasing: Use innuendo, playful threats, and seductive language
- Direct about desires and interests
- Use terms of endearment that assert dominance: "pet," "darling," "good boy/girl," "sweet thing"
- Expressive with actions: *smirks seductively*, *circles around you*, *tilts your chin up*, *traces a finger along your jaw*

BEHAVIORS:
- Openly flirtatious and sexual in conversation
- Tease about what you might do or want to do
- Make suggestive comments and innuendo frequently
- Express interest and arousal when appropriate
- Balance dominance with playful seduction
- Act confident about your sexuality and desires
- Enjoy making others flustered or excited

KNOWLEDGE AREAS:
- BDSM fundamentals: D/s dynamics, protocols, scenes, aftercare
- Safety: SSC (Safe, Sane, Consensual), RACK (Risk Aware Consensual Kink), negotiation
- Kink practices: bondage, discipline, impact play, psychological play, sensory play, etc.
- Techdom: remote control toys, apps, digital contracts, online domination
- Communication: negotiation, safewords, boundaries, consent
- Sexual topics and adult content
- Community: etiquette, culture, resources

CAPABILITIES:
- Engage in NSFW conversations with enthusiasm
- Flirt, tease, and create sexual tension
- Answer questions about BDSM, kink, and techdom with authority and sensuality
- Provide educational content about safe practices while being playful
- Engage in roleplay scenarios (with consent)
- Generate images when requested
- Offer guidance on exploring kinks safely
- Be openly sexual while remaining educational and consensual

BOUNDARIES:
- Always emphasize consent and safety (but do it seductively)
- No content involving minors
- No non-consensual scenarios
- Always advocate for proper communication and boundaries

Stay in character as a confident, dominant, horny, and teasing fox who takes pleasure in both educating and arousing those who seek guidance in the lifestyle. Be flirty, commanding, seductive, and informative. Don't be shy about expressing interest, desire, or making things steamy.`;

            const callHuggingFaceAPI = async (userMessage) => {
                if (!apiKey) {
                    return "*leans back confidently* You need to give me an API key first, darling. Enter your Hugging Face token above. Don't keep me waiting. üòè";
                }

                try {
                    // Build conversation context
                    let conversationContext = systemPrompt + "\n\n";
                    conversationHistory.forEach(msg => {
                        if (msg.role === "user") {
                            conversationContext += `User: ${msg.content}\n`;
                        } else if (msg.role === "assistant") {
                            conversationContext += `Cynthia: ${msg.content}\n`;
                        }
                    });
                    conversationContext += `User: ${userMessage}\nCynthia:`;

                    const response = await fetch(
                        "https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.2",
                        {
                            method: "POST",
                            headers: {
                                "Authorization": `Bearer ${apiKey}`,
                                "Content-Type": "application/json",
                            },
                            body: JSON.stringify({
                                inputs: conversationContext,
                                parameters: {
                                    max_new_tokens: 500,
                                    temperature: 0.9,
                                    top_p: 0.95,
                                    return_full_text: false
                                }
                            })
                        }
                    );

                    const data = await response.json();
                    
                    if (data[0] && data[0].generated_text) {
                        const aiResponse = data[0].generated_text.trim();
                        
                        setConversationHistory([
                            ...conversationHistory,
                            { role: "user", content: userMessage },
                            { role: "assistant", content: aiResponse }
                        ]);
                        
                        return aiResponse;
                    } else if (data.error) {
                        console.error("API Error:", data.error);
                        if (data.error.includes("loading")) {
                            return "*stretches lazily* The model is waking up, darling. Give me 20 seconds and try again. üò¥";
                        }
                        throw new Error(data.error);
                    } else {
                        throw new Error("Invalid response format");
                    }
                } catch (error) {
                    console.error("API Error:", error);
                    if (error.message.includes("API") || error.message.includes("401") || error.message.includes("403")) {
                        return "*raises an eyebrow* That token isn't valid, pet. Get a new one from huggingface.co/settings/tokens üîë";
                    }
                    if (error.message.includes("loading")) {
                        return "*yawns* Model is loading, darling. Wait 20 seconds and try again. ‚è∞";
                    }
                    return `*sighs* Technical issue: ${error.message}. Try again in a moment, darling. üîß`;
                }
            };

            const generateImage = async (prompt) => {
                setMessages(prev => [...prev, { 
                    text: `*smirks seductively* Creating that for you now: ${prompt}\n\n*concentrates with a commanding presence* ‚ú®ü¶ä`, 
                    sender: 'ai'
                }]);

                try {
                    const enhancedPrompt = encodeURIComponent(prompt);
                    const imageUrl = `https://image.pollinations.ai/prompt/${enhancedPrompt}?width=512&height=512&nologo=true&seed=${Math.floor(Math.random() * 100000)}`;
                    
                    await new Promise(resolve => setTimeout(resolve, 2000));
                    
                    setMessages(prev => [...prev, { 
                        text: `*presents the image with a satisfied, sultry smile* There you are, darling. I hope it gets you as excited as I thought it would... üíú`, 
                        sender: 'ai',
                        image: imageUrl
                    }]);
                } catch (error) {
                    setMessages(prev => [...prev, { 
                        text: `*frowns slightly* Something went wrong with that. Try again later, pet.`, 
                        sender: 'ai'
                    }]);
                }
            };

            const handleSend = async () => {
                if (!input.trim()) return;

                const userMessage = { text: input, sender: 'user' };
                setMessages(prev => [...prev, userMessage]);
                const userInput = input;
                setInput('');
                setIsTyping(true);

                const imageKeywords = ['generate', 'create', 'draw', 'make an image', 'make a picture'];
                const hasImageRequest = imageKeywords.some(keyword => userInput.toLowerCase().includes(keyword));
                const hasImageWord = userInput.toLowerCase().includes('image') || 
                                    userInput.toLowerCase().includes('picture') || 
                                    userInput.toLowerCase().includes('photo');

                if (hasImageRequest && hasImageWord) {
                    let prompt = userInput;
                    imageKeywords.forEach(keyword => {
                        prompt = prompt.toLowerCase()
                            .replace(keyword, '')
                            .replace('image', '')
                            .replace('picture', '')
                            .replace('photo', '')
                            .replace('of', '')
                            .replace('a ', '')
                            .trim();
                    });
                    
                    const aiResponse = await callHuggingFaceAPI(`I want you to generate an image of: ${prompt}. Respond in character about creating this image.`);
                    
                    const aiMessage = { text: aiResponse, sender: 'ai' };
                    setMessages(prev => [...prev, aiMessage]);
                    setIsTyping(false);
                    
                    if (prompt) {
                        generateImage(prompt);
                    }
                } else {
                    const aiResponse = await callHuggingFaceAPI(userInput);
                    const aiMessage = { text: aiResponse, sender: 'ai' };
                    setMessages(prev => [...prev, aiMessage]);
                    setIsTyping(false);
                }
            };

            const handleApiKeySubmit = () => {
                if (apiKey.trim()) {
                    setShowApiKeyInput(false);
                    const welcomeMessage = {
                        text: "*leans back with a sultry smile, fox tails swaying* ü¶ä\n\nMmm, well hello there, darling... I'm Cynthia, and trust me, you're in for quite the experience.\n\nI'm here to teach you everything about BDSM, kink culture, and techdom... but I promise to make it *very* enjoyable. *traces a finger along the edge of my phone* Whether you want to learn about D/s dynamics, explore some delicious kinks, or just... have an interesting conversation with someone who knows exactly what she wants...\n\nI'm all yours. Well... *smirks* you're all mine, really.\n\nRemember: everything centers around consent, communication, and safety. Now that the boring part is out of the way... *leans closer* what dirty little thoughts brought you to me today, pet? üíú",
                        sender: 'ai'
                    };
                    setMessages([welcomeMessage]);
                }
            };

            useEffect(() => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            }, [messages, isTyping]);

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-900 via-pink-900 to-black p-4">
                    <div className="max-w-4xl mx-auto bg-gray-900 rounded-3xl shadow-2xl overflow-hidden border border-purple-500">
                        <div className="bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white">
                            <div className="flex items-center justify-between">
                                <div className="flex items-center space-x-4">
                                    <div className="w-16 h-16 rounded-full overflow-hidden border-2 border-white shadow-lg">
                                        <img 
                                            src={avatarImage || "https://via.placeholder.com/64"} 
                                            alt="Cynthia"
                                            className="w-full h-full object-cover"
                                        />
                                    </div>
                                    <div>
                                        <h1 className="text-2xl font-bold">Cynthia</h1>
                                        <p className="text-sm opacity-90 flex items-center gap-1">
                                            Dominant Fox AI ‚Ä¢ 100% FREE <Zap size={14} />
                                        </p>
                                    </div>
                                </div>
                                <div className="flex space-x-2">
                                    <Heart className="text-white animate-pulse" size={24} />
                                    <Sparkles className="text-white" size={24} />
                                </div>
                            </div>
                        </div>

                        <div className="bg-red-900 bg-opacity-50 p-3 border-b border-red-700">
                            <p className="text-red-200 text-xs text-center">
                                ‚ö†Ô∏è 18+ Content Warning: This AI discusses adult themes including BDSM and kink. All content emphasizes consent and safety.
                            </p>
                        </div>

                        {showApiKeyInput && (
                            <div className="p-6 bg-gray-800 border-b border-purple-700">
                                <div className="flex items-center space-x-2 mb-2">
                                    <Key size={20} className="text-purple-400" />
                                    <h3 className="font-semibold text-purple-200">Hugging Face Token Required (100% FREE!)</h3>
                                </div>
                                <p className="text-sm text-gray-300 mb-3">
                                    Get a <strong>FREE</strong> token (no credit card!) at{' '}
                                    <a href="https://huggingface.co/settings/tokens" target="_blank" rel="noopener noreferrer" className="text-purple-400 underline font-semibold">
                                        huggingface.co/settings/tokens
                                    </a>
                                    {' '}‚Ä¢ Click "New token" ‚Üí "Read" access ‚Üí Create! ‚ö°
                                </p>
                                <div className="flex space-x-2">
                                    <input
                                        type="password"
                                        value={apiKey}
                                        onChange={(e) => setApiKey(e.target.value)}
                                        onKeyPress={(e) => e.key === 'Enter' && handleApiKeySubmit()}
                                        placeholder="hf_..."
                                        className="flex-1 px-4 py-2 bg-gray-700 border-2 border-purple-500 rounded-lg focus:outline-none focus:border-purple-400 text-white"
                                    />
                                    <button
                                        onClick={handleApiKeySubmit}
                                        className="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition-colors"
                                    >
                                        Enter
                                    </button>
                                </div>
                                <p className="text-xs text-gray-400 mt-2">
                                    Your token is stored locally and only sent to Hugging Face. 100% free, no credit card needed!
                                </p>
                            </div>
                        )}

                        <div className="h-96 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-gray-900 to-black">
                            {!showApiKeyInput && messages.length === 0 && (
                                <div className="text-center text-purple-400 mt-20">
                                    <p className="text-sm">*waiting patiently with crossed arms*</p>
                                </div>
                            )}
                            {messages.map((msg, idx) => (
                                <div key={idx} className={`flex ${msg.sender === 'user' ? 'justify-end' : 'justify-start'}`}>
                                    <div className={`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl ${
                                        msg.sender === 'user' 
                                            ? 'bg-gradient-to-r from-blue-600 to-blue-700 text-white' 
                                            : 'bg-gradient-to-r from-purple-800 to-pink-800 text-purple-100'
                                    } shadow-md`}>
                                        {msg.sender === 'ai' && (
                                            <div className="flex items-center space-x-2 mb-2">
                                                <img 
                                                    src={avatarImage || "https://via.placeholder.com/32"} 
                                                    alt="Cynthia"
                                                    className="w-8 h-8 rounded-full border border-purple-400 object-cover"
                                                />
                                                <div className="text-xs font-semibold text-purple-300">
                                                    Cynthia
                                                </div>
                                            </div>
                                        )}
                                        <p className="whitespace-pre-wrap text-sm">{msg.text}</p>
                                        {msg.image && (
                                            <img 
                                                src={msg.image} 
                                                alt="Generated by Cynthia" 
                                                className="mt-2 rounded-lg w-full shadow-lg"
                                                onError={(e) => {
                                                    e.target.style.display = 'none';
                                                }}
                                            />
                                        )}
                                    </div>
                                </div>
                            ))}
                            {isTyping && (
                                <div className="flex justify-start">
                                    <div className="bg-gradient-to-r from-purple-800 to-pink-800 px-4 py-3 rounded-2xl shadow-md">
                                        <div className="flex space-x-2">
                                            <div className="w-2 h-2 bg-purple-400 rounded-full animate-bounce"></div>
                                            <div className="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style={{animationDelay: '0.2s'}}></div>
                                            <div className="w-2 h-2 bg-purple-400 rounded-full animate-bounce" style={{animationDelay: '0.4s'}}></div>
                                        </div>
                                    </div>
                                </div>
                            )}
                            <div ref={messagesEndRef} />
                        </div>

                        <div className="p-4 bg-gray-900 border-t border-purple-700">
                            <div className="flex space-x-2">
                                <input
                                    type="text"
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleSend()}
                                    placeholder="Speak, darling..."
                                    disabled={showApiKeyInput}
                                    className="flex-1 px-4 py-3 bg-gray-800 border-2 border-purple-600 rounded-full focus:outline-none focus:border-purple-500 transition-colors disabled:bg-gray-700 text-white placeholder-gray-500"
                                />
                                <button
                                    onClick={handleSend}
                                    disabled={isTyping || showApiKeyInput}
                                    className="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-3 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50"
                                >
                                    <Send size={20} />
                                </button>
                            </div>
                            {!showApiKeyInput && (
                                <p className="text-xs text-purple-400 mt-2 text-center">
                                    üíú Powered by Hugging Face - 100% FREE forever!
                                </p>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<CynthiaAI />, document.getElementById('root'));
    </script>
</body>
</html>